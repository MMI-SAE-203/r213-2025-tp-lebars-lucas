---
import Base from '../../../layouts/Base.astro';
import CardOffre from '../../../components/CardOffre.astro';
import { byPriceRange } from '../../../js/backend.mjs';

const { minPrix, maxPrix } = Astro.params;
const offres = await byPriceRange(minPrix, maxPrix);
---

<Base titre={`Maisons avec un prix entre ${minPrix} € et ${maxPrix} €`}>
    <h1 class="text-3xl font-bold mt-10 mb-6 text-center">Maisons avec un prix entre {minPrix} € et {maxPrix} €</h1>
    <div class="flex flex-wrap justify-center gap-4 py-6">
        {offres.map((offre) => (
            <div class="w-full sm:w-1/2 lg:w-1/3 mb-4">
                <CardOffre {...offre} />
            </div>
        ))}
    </div>
</Base>